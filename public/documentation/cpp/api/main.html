<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Xuggle: The Xuggler Open Source Libraries</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li class="current"><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>The Xuggler Open Source Libraries</h1>
<p>
<h2><a class="anchor" name="intro_sec">
Introduction</a></h2>
This libraries contains a collection of C++ (and sometimes C) libraries that Xuggle is letting loose on the world. <p>
Our intention in open sourcing these libraries is to break down the walls of communication between people. To that end, a lot of these libraries deal with getting at raw data for different systems, and for helping people to share and create cool stuff using that data.  <p>
That said, it is not our intent to encourage people to use these libraries for illegal purposes, and we explicitly encourage people to respect the rights of others when they use these libraries.  <h2><a class="anchor" name="license_sec">
Licensing</a></h2>
All Xuggle Open Source Libraries are released under the <a href="http://www.gnu.org/copyleft/lesser.html">GNU Lesser General Public License v3 (LGPL)</a>. See the COPYING and COPYING.LESSER files in each library for details.. <h2><a class="anchor" name="libraries_sec">
Libraries</a></h2>
Here is a brief summary of the current libraries in this release:<h3><a class="anchor" name="xuggler_lib">
Xuggle's Xuggler</a></h3>
A C++ Library for encoding and decoding pretty much any Internet available audio or video file. See <a class="el" href="namespacecom_1_1xuggle_1_1xuggler.html" title="This package contains the core XUGGLER library routines that deal with the manipulation...">com::xuggle::xuggler</a>. <p>
This C++ library is a slightly simpler and safer C++ wrapper around the excellent <a href="http://ffmpeg.org">FFMPEG</a> libav* libraries. It also adds a reference-counted memory model so that ownership of objects can be shared.  <p>
It's main raison d'etre is to be plugged into other languages (e.g. Java, Python, etc.) and allow relatively safe encoding and decoding of video. It ships today with a Java wrapper (using the also excellent <a href="http://www.swig.org/">SWIG</a> system).  <p>
We don't expect a lot of people to use the C++ interface directly (instead we expect people to use the Java interface), but we're not going to stop people either. The installation scripts should install all the header files you need, and the Java documentation is really just generated from the C++ documentation anyway, so have fun. Bear in mind that if you're #1 concern is performance, you should just use the libav interfaces in C directly. Why? Because we slightly favor protecting the programmer from themselves and ease of use over performance (the opposite of what FFMPEG favors; they slightly favor performance over protection and ease of use). What do we mean: <ul>
<li>
We copy data out of video frames upon a decode, and data out of packets on an encode into our own structures because FFMPEG will re-use the AVPacket and AVFrame buffers out from under you, and most other folks will be surprised if it just disappears (particularly true if a Java object passes a <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html" title="Represents one raw (undecoded) picture in a video stream, plus a timestamp for when...">com::xuggle::xuggler::IVideoPicture</a> across a thread boundary).  </li>
<li>
We do error checking of arguments, whereas FFMPEG assumes you know what you're doing.  </li>
<li>
When encoding audio we'll queue up enough data for a audio frame to be encoded, whereas FFMPEG requires you to do that. (note: if you care about this, always pass in eactly one audio frame's worth of data for your given encoder and we won't do this).  </li>
</ul>
All these things take CPU time and some memory space. In short, FFMPEG is a slightly faster but sharper knife, where as Xuggler is a slightly slower but safer knife. Still, you can make some real fancy dishes with either. <h3><a class="anchor" name="xugglerio_lib">
Xuggle's Xuggler IO</a></h3>
A C++ Library for allowing people to plug in custom data sources for FFMPEG to use. See <a class="el" href="namespacecom_1_1xuggle_1_1xuggler_1_1io.html" title="This package contains the XUGGLER IO library which is used to register callbacks...">com::xuggle::xuggler::io</a>. <p>
By default FFMPEG can read files, and some other protocols (like http). Sometimes it can be useful to extend that, and the Xuggler IO library allows that. Again, it's main raison d'etre is to allow other languages (e.g. Java) to extend the data sources that can feed FFMPEG. See the Java FileProtocolHandler object for an example, or download the xuggle-xuggler-red5 library to see an example where we use this to encode and deocde lvie video in a <a href="red5.googlecode.com">Red5</a> media server.  <h3><a class="anchor" name="ferry_lib">
Xuggle's Ferry</a></h3>
A set of C++ and other language (e.g. Java) classes for <em>ferrying</em> data from other languages to C/C++ and back. See <a class="el" href="namespacecom_1_1xuggle_1_1ferry.html" title="This library contains routines used by Xuggle libraries for &quot;ferry&quot;ing...">com::xuggle::ferry</a>. <p>
<a href="http://www.swig.org/">SWIG</a>, an excellent utility for wrapping C/C++ code for other languages does a lot of great things. But sometimes it can use some help, and that's where this library comes in. This library implements the reference-counting memory scheme (used by the <a class="el" href="namespacecom_1_1xuggle_1_1xuggler.html" title="This package contains the core XUGGLER library routines that deal with the manipulation...">com::xuggle::xuggler</a> package) to allow C++ to pass objects in to other languages and relatively seemlessly integrate with their garbage collection systems. It also provides mechanism for allocating memory from the other language (instead of the C++ heap) to help that language keep track of memory, mechanisms for logging in the other language, and mechanisms for allowing the other language to directly modify C++/C memory (if possible). Most people won't use this outside of the Xuggler library, but if you're curious, go digging. It relies HEAVILY on SWIG for a lot of the heavy lifting.<h2><a class="anchor" name="notes_sec">
Developer Notes</a></h2>
<h3><a class="anchor" name="threading_lib">
Thread Safety</a></h3>
The Xuggler library is not synchronized and callers must ensure multiple threads are not using the same object at the same time. For example, only one thread may encodeAudio on an IStreamCoder instance at a time. <p>
For C++ we do not by default include any thread-locking library. If internal library synchronization is needed, we rely on the facilities of the runtime environment it's running in. That means in Java it uses the Java thread management libraries to ensure safety. <p>
However if you're just running raw C++, then we don't use any threading library. In general that's fine. You need to follow these rules: 1) Ensure that only one Xuggler method is working on a Xuggler object at a time. So for example, if you're using IStreamCoder to decodeVideo into a IVideoPicture, make sure no other thread is using the IStreamCoder or the IVideoPicture at the time. 2) Unfortunately there is one area where you must provide a global lock. You must make sure that IStreamCoder::open on any IStreamCoder object is locked (FFMPEG requires this). <p>
As mentioned earlier, we don't expect the C++ api to be used on its own, but if this proves wrong, we will consider adding threading (e.g. pthreads on Linux, w32threads on Windows) support if not running inside a Virtual Machine. Let us know. </div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jul 11 07:39:27 2011 for Xuggle by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
