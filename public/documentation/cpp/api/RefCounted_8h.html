<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Xuggle: csrc/com/xuggle/ferry/RefCounted.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_699738047d3b635b5df656916dee49ce.html">csrc</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_2cb158fd786e896c09be7d68a3b6a246.html">com</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_f3de956f4e588203bf9fcd5328f2c68a.html">xuggle</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_4444989b0b127fd421af0822d4163a66.html">ferry</a>
  </div>
</div>
<div class="contents">
<h1>RefCounted.h File Reference</h1>
<p>
<code>#include &lt;new&gt;</code><br>
<code>#include &lt;inttypes.h&gt;</code><br>
<code>#include &lt;stdexcept&gt;</code><br>
<code>#include &lt;<a class="el" href="Ferry_8h-source.html">com/xuggle/ferry/Ferry.h</a>&gt;</code><br>

<p>
<div class="dynheader">
Include dependency graph for RefCounted.h:</div>
<div class="dynsection">
<p><center><img src="RefCounted_8h__incl.png" border="0" usemap="#csrc/com/xuggle/ferry/RefCounted.h_map" alt=""></center>
<map name="csrc/com/xuggle/ferry/RefCounted.h_map">
<area shape="rect" href="Ferry_8h.html" title="com/xuggle/ferry/Ferry.h" alt="" coords="288,84,461,111"><area shape="rect" href="Xuggle_8h.html" title="com/xuggle/Xuggle.h" alt="" coords="297,162,452,188"></map>
</div>

<p>
<div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dynsection">
<p><center><img src="RefCounted_8h__dep__incl.png" border="0" usemap="#csrc/com/xuggle/ferry/RefCounted.hdep_map" alt=""></center>
<map name="csrc/com/xuggle/ferry/RefCounted.hdep_map">
<area shape="rect" href="IBuffer_8h.html" title="csrc/com/xuggle/ferry/IBuffer.h" alt="" coords="1816,84,2029,111"><area shape="rect" href="Global_8h.html" title="csrc/com/xuggle/xuggler/Global.h" alt="" coords="2609,548,2841,575"><area shape="rect" href="IAudioResampler_8h.html" title="csrc/com/xuggle/xuggler/IAudioResampler.h" alt="" coords="2011,316,2307,343"><area shape="rect" href="ICodec_8h.html" title="csrc/com/xuggle/xuggler/ICodec.h" alt="" coords="3085,316,3320,343"><area shape="rect" href="IContainer_8h.html" title="csrc/com/xuggle/xuggler/IContainer.h" alt="" coords="3615,471,3871,498"><area shape="rect" href="Container_8h.html" title="csrc/com/xuggle/xuggler/Container.h" alt="" coords="3255,548,3508,575"><area shape="rect" href="IContainerFormat_8h.html" title="csrc/com/xuggle/xuggler/IContainerFormat.h" alt="" coords="3643,394,3947,420"><area shape="rect" href="IStreamCoder_8h.html" title="csrc/com/xuggle/xuggler/IStreamCoder.h" alt="" coords="2917,394,3197,420"><area shape="rect" href="IMediaData_8h.html" title="csrc/com/xuggle/xuggler/IMediaData.h" alt="" coords="2325,162,2589,188"><area shape="rect" href="IVideoResampler_8h.html" title="csrc/com/xuggle/xuggler/IVideoResampler.h" alt="" coords="3323,394,3619,420"><area shape="rect" href="JNIMemoryManager_8cpp.html" title="csrc/com/xuggle/ferry/JNIMemoryManager.cpp" alt="" coords="4712,84,5024,111"><area shape="rect" href="Mutex_8h.html" title="csrc/com/xuggle/ferry/Mutex.h" alt="" coords="1073,471,1287,498"><area shape="rect" href="RefCounted_8cpp.html" title="csrc/com/xuggle/ferry/RefCounted.cpp" alt="" coords="5048,84,5309,111"><area shape="rect" href="RefCountedTester_8h.html" title="csrc/com/xuggle/ferry/RefCountedTester.h" alt="" coords="5333,84,5616,111"><area shape="rect" href="RefPointer_8h.html" title="csrc/com/xuggle/ferry/RefPointer.h" alt="" coords="1445,316,1683,343"><area shape="rect" href="IContainerParameters_8h.html" title="csrc/com/xuggle/xuggler/IContainerParameters.h" alt="" coords="3869,316,4200,343"><area shape="rect" href="IError_8h.html" title="csrc/com/xuggle/xuggler/IError.h" alt="" coords="5640,84,5864,111"><area shape="rect" href="IIndexEntry_8h.html" title="csrc/com/xuggle/xuggler/IIndexEntry.h" alt="" coords="4661,162,4920,188"><area shape="rect" href="IMetaData_8h.html" title="csrc/com/xuggle/xuggler/IMetaData.h" alt="" coords="4209,239,4468,266"><area shape="rect" href="IPixelFormat_8h.html" title="csrc/com/xuggle/xuggler/IPixelFormat.h" alt="" coords="3231,239,3500,266"><area shape="rect" href="IProperty_8h.html" title="csrc/com/xuggle/xuggler/IProperty.h" alt="" coords="3597,316,3845,343"><area shape="rect" href="IRational_8h.html" title="csrc/com/xuggle/xuggler/IRational.h" alt="" coords="2875,84,3120,111"><area shape="rect" href="IStream_8h.html" title="csrc/com/xuggle/xuggler/IStream.h" alt="" coords="4376,316,4619,343"><area shape="rect" href="ITimeValue_8h.html" title="csrc/com/xuggle/xuggler/ITimeValue.h" alt="" coords="5888,84,6149,111"><area shape="rect" href="Buffer_8h.html" title="csrc/com/xuggle/ferry/Buffer.h" alt="" coords="423,162,633,188"><area shape="rect" href="IBuffer_8cpp.html" title="csrc/com/xuggle/ferry/IBuffer.cpp" alt="" coords="5,626,235,652"><area shape="rect" href="AudioSamples_8h.html" title="csrc/com/xuggle/xuggler/AudioSamples.h" alt="" coords="1756,548,2039,575"><area shape="rect" href="Container_8cpp.html" title="csrc/com/xuggle/xuggler/Container.cpp" alt="" coords="2963,626,3229,652"><area shape="rect" href="IAudioSamples_8h.html" title="csrc/com/xuggle/xuggler/IAudioSamples.h" alt="" coords="2251,239,2539,266"><area shape="rect" href="StreamCoder_8h.html" title="csrc/com/xuggle/xuggler/StreamCoder.h" alt="" coords="3019,471,3296,498"><area shape="rect" href="VideoPicture_8h.html" title="csrc/com/xuggle/xuggler/VideoPicture.h" alt="" coords="1972,394,2244,420"><area shape="rect" href="IVideoPicture_8h.html" title="csrc/com/xuggle/xuggler/IVideoPicture.h" alt="" coords="2635,316,2909,343"><area shape="rect" href="IPixelFormat_8cpp.html" title="csrc/com/xuggle/xuggler/IPixelFormat.cpp" alt="" coords="259,626,544,652"><area shape="rect" href="Packet_8h.html" title="csrc/com/xuggle/xuggler/Packet.h" alt="" coords="2164,548,2399,575"><area shape="rect" href="AudioResampler_8cpp.html" title="csrc/com/xuggle/xuggler/AudioResampler.cpp" alt="" coords="1395,626,1704,652"><area shape="rect" href="AudioSamples_8cpp.html" title="csrc/com/xuggle/xuggler/AudioSamples.cpp" alt="" coords="1728,626,2027,652"><area shape="rect" href="Global_8cpp.html" title="csrc/com/xuggle/xuggler/Global.cpp" alt="" coords="2051,626,2299,652"><area shape="rect" href="IAudioSamples_8cpp.html" title="csrc/com/xuggle/xuggler/IAudioSamples.cpp" alt="" coords="2637,626,2939,652"><area shape="rect" href="StreamCoder_8cpp.html" title="csrc/com/xuggle/xuggler/StreamCoder.cpp" alt="" coords="2323,626,2613,652"><area shape="rect" href="Codec_8cpp.html" title="csrc/com/xuggle/xuggler/Codec.cpp" alt="" coords="1123,626,1371,652"><area shape="rect" href="IContainer_8cpp.html" title="csrc/com/xuggle/xuggler/IContainer.cpp" alt="" coords="3533,626,3805,652"><area shape="rect" href="Stream_8cpp.html" title="csrc/com/xuggle/xuggler/Stream.cpp" alt="" coords="3253,626,3509,652"><area shape="rect" href="VideoPicture_8cpp.html" title="csrc/com/xuggle/xuggler/VideoPicture.cpp" alt="" coords="811,626,1099,652"><area shape="rect" href="Logger_8h.html" title="csrc/com/xuggle/ferry/Logger.h" alt="" coords="1364,548,1580,575"><area shape="rect" href="Main_8cpp.html" title="csrc/com/xuggle/ferry/Main.cpp" alt="" coords="568,626,787,652"><area shape="rect" href="Mutex_8cpp.html" title="csrc/com/xuggle/ferry/Mutex.cpp" alt="" coords="1063,548,1289,575"><area shape="rect" href="RefCountedTester_8cpp.html" title="csrc/com/xuggle/ferry/RefCountedTester.cpp" alt="" coords="5325,162,5624,188"><area shape="rect" href="MediaDataWrapper_8h.html" title="csrc/com/xuggle/xuggler/MediaDataWrapper.h" alt="" coords="1311,471,1623,498"><area shape="rect" href="Stream_8h.html" title="csrc/com/xuggle/xuggler/Stream.h" alt="" coords="4095,394,4335,420"></map>
</div>

<p>
<a href="RefCounted_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Namespaces</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecom.html">com</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecom_1_1xuggle.html">com::xuggle</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecom_1_1xuggle_1_1ferry.html">com::xuggle::ferry</a></td></tr>

<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1ferry_1_1RefCounted.html">com::xuggle::ferry::RefCounted</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parent of all Ferry objects -- it mains reference counts in native code.  <a href="classcom_1_1xuggle_1_1ferry_1_1RefCounted.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="RefCounted_8h.html#83b2f60ac867e607531f3c65e39e9ec3">VS_JNIUTILS_REFCOUNTED_MAKE</a>(__class)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="RefCounted_8h.html#d8d6bdcf70c9bf97240f4d2b33327648">VS_JNIUTILS_REFCOUNTED_OBJECT</a>(__class)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="RefCounted_8h.html#9639009631e9fa82add107650d9a98b8">VS_JNIUTILS_REFCOUNTED_OBJECT_PRIVATE_MAKE</a>(__className)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="RefCounted_8h.html#92c5a30381107853982caf61e1b29e39">VS_REF_ACQUIRE</a>(__object)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="RefCounted_8h.html#90e04e77a467e22dde38932cd10a3e08">VS_REF_RELEASE</a>(__object)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="83b2f60ac867e607531f3c65e39e9ec3"></a><!-- doxytag: member="RefCounted.h::VS_JNIUTILS_REFCOUNTED_MAKE" ref="83b2f60ac867e607531f3c65e39e9ec3" args="(__class)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VS_JNIUTILS_REFCOUNTED_MAKE          </td>
          <td>(</td>
          <td class="paramtype">__class&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keyword">static</span> __class* make() { \
        __class *obj = <span class="keyword">new</span> __class(); \
        <span class="keywordflow">if</span> (obj) { \
          (void) obj-&gt;acquire(); \
        } <span class="keywordflow">else</span> { \
          <span class="keywordflow">throw</span> std::bad_alloc(); \
        } \
        <span class="keywordflow">return</span> obj; \
    } \
 <span class="keyword">private</span>: \
    __class &amp;operator=(<span class="keyword">const</span> __class &amp;); \
    __class(<span class="keyword">const</span> __class &amp;); \
    <span class="keyword">static</span> <span class="keywordtype">void</span> * operator new (<span class="keywordtype">size_t</span> aSize) { return ::operator new(aSize); }
</pre></div>
<p>Definition at line <a class="el" href="RefCounted_8h-source.html#l00196">196</a> of file <a class="el" href="RefCounted_8h-source.html">RefCounted.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="d8d6bdcf70c9bf97240f4d2b33327648"></a><!-- doxytag: member="RefCounted.h::VS_JNIUTILS_REFCOUNTED_OBJECT" ref="d8d6bdcf70c9bf97240f4d2b33327648" args="(__class)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VS_JNIUTILS_REFCOUNTED_OBJECT          </td>
          <td>(</td>
          <td class="paramtype">__class&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keyword">public</span>: \
        <a class="code" href="RefCounted_8h.html#83b2f60ac867e607531f3c65e39e9ec3">VS_JNIUTILS_REFCOUNTED_MAKE</a>(__class) \
    <span class="keyword">private</span>:
</pre></div>
<p>Definition at line <a class="el" href="RefCounted_8h-source.html#l00211">211</a> of file <a class="el" href="RefCounted_8h-source.html">RefCounted.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="9639009631e9fa82add107650d9a98b8"></a><!-- doxytag: member="RefCounted.h::VS_JNIUTILS_REFCOUNTED_OBJECT_PRIVATE_MAKE" ref="9639009631e9fa82add107650d9a98b8" args="(__className)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VS_JNIUTILS_REFCOUNTED_OBJECT_PRIVATE_MAKE          </td>
          <td>(</td>
          <td class="paramtype">__className&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keyword">private</span>: \
        <a class="code" href="RefCounted_8h.html#83b2f60ac867e607531f3c65e39e9ec3">VS_JNIUTILS_REFCOUNTED_MAKE</a>(__className) \
    <span class="keyword">private</span>:
</pre></div>
<p>Definition at line <a class="el" href="RefCounted_8h-source.html#l00216">216</a> of file <a class="el" href="RefCounted_8h-source.html">RefCounted.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="92c5a30381107853982caf61e1b29e39"></a><!-- doxytag: member="RefCounted.h::VS_REF_ACQUIRE" ref="92c5a30381107853982caf61e1b29e39" args="(__object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VS_REF_ACQUIRE          </td>
          <td>(</td>
          <td class="paramtype">__object&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> { \
    <span class="keywordflow">if</span> (__object) { \
      (__object)-&gt;acquire(); \
    } \
  } <span class="keywordflow">while</span> (0)
</pre></div>
<p>Definition at line <a class="el" href="RefCounted_8h-source.html#l00223">223</a> of file <a class="el" href="RefCounted_8h-source.html">RefCounted.h</a>.</p>

<p>Referenced by <a class="el" href="RefPointer_8h-source.html#l00206">com::xuggle::ferry::RefPointer&lt; com::xuggle::xuggler::Stream &gt;::get()</a>, <a class="el" href="Stream_8cpp-source.html#l00264">com::xuggle::xuggler::Stream::getContainer()</a>, <a class="el" href="StreamCoder_8cpp-source.html#l00224">com::xuggle::xuggler::StreamCoder::getStream()</a>, <a class="el" href="Stream_8cpp-source.html#l00109">com::xuggle::xuggler::Stream::getStreamCoder()</a>, <a class="el" href="RefPointer_8h-source.html#l00102">com::xuggle::ferry::RefPointer&lt; com::xuggle::xuggler::Stream &gt;::operator=()</a>, <a class="el" href="RefPointer_8h-source.html#l00080">com::xuggle::ferry::RefPointer&lt; com::xuggle::xuggler::Stream &gt;::RefPointer()</a>, <a class="el" href="RefPointer_8h-source.html#l00237">com::xuggle::ferry::RefPointer&lt; com::xuggle::xuggler::Stream &gt;::reset()</a>, and <a class="el" href="Stream_8cpp-source.html#l00277">com::xuggle::xuggler::Stream::setStreamCoder()</a>.</p>

</div>
</div><p>
<a class="anchor" name="90e04e77a467e22dde38932cd10a3e08"></a><!-- doxytag: member="RefCounted.h::VS_REF_RELEASE" ref="90e04e77a467e22dde38932cd10a3e08" args="(__object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VS_REF_RELEASE          </td>
          <td>(</td>
          <td class="paramtype">__object&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> { \
    <span class="keywordflow">if</span> (__object) { \
      (__object)-&gt;release(); \
    } \
    (__object) = 0; \
  } <span class="keywordflow">while</span> (0)
</pre></div>
<p>Definition at line <a class="el" href="RefCounted_8h-source.html#l00230">230</a> of file <a class="el" href="RefCounted_8h-source.html">RefCounted.h</a>.</p>

<p>Referenced by <a class="el" href="Container_8cpp-source.html#l00369">com::xuggle::xuggler::Container::addNewStream()</a>, <a class="el" href="VideoPicture_8cpp-source.html#l00174">com::xuggle::xuggler::VideoPicture::getData()</a>, <a class="el" href="Property_8cpp-source.html#l00317">com::xuggle::xuggler::Property::getFlagConstant()</a>, <a class="el" href="Property_8cpp-source.html#l00453">com::xuggle::xuggler::Property::getPropertyAsRational()</a>, <a class="el" href="Property_8cpp-source.html#l00131">com::xuggle::xuggler::Property::getPropertyMetaData()</a>, <a class="el" href="VideoResampler_8cpp-source.html#l00225">com::xuggle::xuggler::VideoResampler::make()</a>, <a class="el" href="VideoPicture_8cpp-source.html#l00055">com::xuggle::xuggler::VideoPicture::make()</a>, <a class="el" href="StreamCoder_8cpp-source.html#l00100">com::xuggle::xuggler::StreamCoder::make()</a>, <a class="el" href="Stream_8cpp-source.html#l00072">com::xuggle::xuggler::Stream::make()</a>, <a class="el" href="Property_8cpp-source.html#l00045">com::xuggle::xuggler::Property::make()</a>, <a class="el" href="Packet_8cpp-source.html#l00220">com::xuggle::xuggler::Packet::make()</a>, <a class="el" href="MetaData_8cpp-source.html#l00120">com::xuggle::xuggler::MetaData::make()</a>, <a class="el" href="IVideoPicture_8cpp-source.html#l00058">com::xuggle::xuggler::IVideoPicture::make()</a>, <a class="el" href="IPacket_8cpp-source.html#l00061">com::xuggle::xuggler::IPacket::make()</a>, <a class="el" href="AudioSamples_8cpp-source.html#l00149">com::xuggle::xuggler::AudioSamples::make()</a>, <a class="el" href="AudioResampler_8cpp-source.html#l00080">com::xuggle::xuggler::AudioResampler::make()</a>, <a class="el" href="Mutex_8cpp-source.html#l00171">com::xuggle::ferry::Mutex::make()</a>, <a class="el" href="RefPointer_8h-source.html#l00237">com::xuggle::ferry::RefPointer&lt; com::xuggle::xuggler::Stream &gt;::reset()</a>, <a class="el" href="Stream_8cpp-source.html#l00277">com::xuggle::xuggler::Stream::setStreamCoder()</a>, <a class="el" href="MediaDataWrapper_8cpp-source.html#l00113">com::xuggle::xuggler::MediaDataWrapper::wrap()</a>, and <a class="el" href="RefPointer_8h-source.html#l00181">com::xuggle::ferry::RefPointer&lt; com::xuggle::xuggler::Stream &gt;::~RefPointer()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jul 11 07:39:34 2011 for Xuggle by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
