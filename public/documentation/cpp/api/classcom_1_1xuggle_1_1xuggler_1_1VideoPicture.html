<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Xuggle: com::xuggle::xuggler::VideoPicture Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="classes.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespacecom.html">com</a>::<a class="el" href="namespacecom_1_1xuggle.html">xuggle</a>::<a class="el" href="namespacecom_1_1xuggle_1_1xuggler.html">xuggler</a>::<a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html">VideoPicture</a>
  </div>
</div>
<div class="contents">
<h1>com::xuggle::xuggler::VideoPicture Class Reference</h1><!-- doxytag: class="com::xuggle::xuggler::VideoPicture" --><!-- doxytag: inherits="com::xuggle::xuggler::IVideoPicture" --><code>#include &lt;<a class="el" href="VideoPicture_8h-source.html">VideoPicture.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for com::xuggle::xuggler::VideoPicture:</div>
<div class="dynsection">
<p><center><img src="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture__inherit__graph.png" border="0" usemap="#com_1_1xuggle_1_1xuggler_1_1VideoPicture__inherit__map" alt="Inheritance graph"></center>
<map name="com_1_1xuggle_1_1xuggler_1_1VideoPicture__inherit__map">
<area shape="rect" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html" title="Represents one raw (undecoded) picture in a video stream, plus a timestamp for when..." alt="" coords="5,161,251,188"><area shape="rect" href="classcom_1_1xuggle_1_1xuggler_1_1IMediaData.html" title="The parent class of all media objects than can be gotten from an IStream." alt="" coords="11,84,245,111"><area shape="rect" href="classcom_1_1xuggle_1_1ferry_1_1RefCounted.html" title="Parent of all Ferry objects &#45;&#45; it mains reference counts in native code." alt="" coords="20,7,236,33"></map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center></div>
<div class="dynheader">
Collaboration diagram for com::xuggle::xuggler::VideoPicture:</div>
<div class="dynsection">
<p><center><img src="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture__coll__graph.png" border="0" usemap="#com_1_1xuggle_1_1xuggler_1_1VideoPicture__coll__map" alt="Collaboration graph"></center>
<map name="com_1_1xuggle_1_1xuggler_1_1VideoPicture__coll__map">
<area shape="rect" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html" title="Represents one raw (undecoded) picture in a video stream, plus a timestamp for when..." alt="" coords="1216,109,1461,136"><area shape="rect" href="classcom_1_1xuggle_1_1xuggler_1_1IMediaData.html" title="The parent class of all media objects than can be gotten from an IStream." alt="" coords="659,109,893,136"><area shape="rect" href="classcom_1_1xuggle_1_1ferry_1_1RefCounted.html" title="Parent of all Ferry objects &#45;&#45; it mains reference counts in native code." alt="" coords="357,80,573,106"><area shape="rect" href="classcom_1_1xuggle_1_1ferry_1_1IBuffer.html" title="Allows Java code to get data from a native buffers, and optionally modify native..." alt="" coords="684,58,868,85"><area shape="rect" href="classcom_1_1xuggle_1_1ferry_1_1AtomicInteger.html" title="Internal only." alt="" coords="7,80,239,106"><area shape="rect" href="classcom_1_1xuggle_1_1ferry_1_1RefPointer.html" title="com::xuggle::ferry::RefPointer\&lt; com::xuggle::ferry::IBuffer \&gt;" alt="" coords="1139,58,1539,85"><area shape="rect" href="classcom_1_1xuggle_1_1ferry_1_1RefPointer.html" title="This class is only useful from C++." alt="" coords="655,8,897,34"></map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="VideoPicture_8h-source.html#l00033">33</a> of file <a class="el" href="VideoPicture_8h-source.html">VideoPicture.h</a>.</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#a005e62c2652caeb0ae623bbf068435e">getTimeStamp</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the time stamp of this object in <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#346145e590177407e968b213127d9269" title="Get the time base that time stamps of this object are represented in.">getTimeBase()</a> units.  <a href="#a005e62c2652caeb0ae623bbf068435e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#604f6fbb65b77da23fc20064c7b28d22">setTimeStamp</a> (int64_t aTimeStamp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the time stamp for this object in <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#346145e590177407e968b213127d9269" title="Get the time base that time stamps of this object are represented in.">getTimeBase()</a> units.  <a href="#604f6fbb65b77da23fc20064c7b28d22"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#0e6ba4f88c57721d5cd396f4c0cbf437">isKey</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Is this object a key object? i.e.  <a href="#0e6ba4f88c57721d5cd396f4c0cbf437"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IRational.html">IRational</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#346145e590177407e968b213127d9269">getTimeBase</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the time base that time stamps of this object are represented in.  <a href="#346145e590177407e968b213127d9269"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#7013905cdafe9378b7f3e33faf01fb4d">setTimeBase</a> (<a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IRational.html">IRational</a> *aBase)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the time base that time stamps of this object are represented in.  <a href="#7013905cdafe9378b7f3e33faf01fb4d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#d739f080b8fa50e641ded5880654c9f5">isKeyFrame</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Is this a key frame?  <a href="#d739f080b8fa50e641ded5880654c9f5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#bb05a59b53989af010ff33b4e6ae7620">setKeyFrame</a> (bool aIsKey)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset if this is a key frame or not.  <a href="#bb05a59b53989af010ff33b4e6ae7620"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#dc1288566f2e179e6e08d35f00001e93">isComplete</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Is this picture completely decoded?  <a href="#dc1288566f2e179e6e08d35f00001e93"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#9229aeee5e4aed9fa6c6e67740c94473">getWidth</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">What is the width of the picture.  <a href="#9229aeee5e4aed9fa6c6e67740c94473"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#e43ce5753579d1dda962ae31d3973c05">getHeight</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">What is the height of the picture.  <a href="#e43ce5753579d1dda962ae31d3973c05"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IPixelFormat.html#f869b474f38ba0ecd392f05780d23742">IPixelFormat::Type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#d08d80ae1408b64b8c0ef7d94e7a1f15">getPixelType</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the pixel format of the picture.  <a href="#d08d80ae1408b64b8c0ef7d94e7a1f15"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#60f0f8bf3fade4dd3334301b329a9184">getPts</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">What is the Presentation Time Stamp (in Microseconds) of this picture.  <a href="#60f0f8bf3fade4dd3334301b329a9184"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#4793a3062c1d7bb11220889ca91143f7">setPts</a> (int64_t)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the Presentation Time Stamp (in Microseconds) for this picture.  <a href="#4793a3062c1d7bb11220889ca91143f7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#dd6d71c888ffff77023e552231e66d81">getQuality</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This value is the quality setting this <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html">VideoPicture</a> had when it was decoded, or is the value to use when this picture is next encoded (if reset with <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#801ad6e49469a28d5bb653e6402ec31b" title="Set the Quality to a new value.">setQuality()</a>.  <a href="#dd6d71c888ffff77023e552231e66d81"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#801ad6e49469a28d5bb653e6402ec31b">setQuality</a> (int newQuality)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the Quality to a new value.  <a href="#801ad6e49469a28d5bb653e6402ec31b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#0362d20baf6320903274f76a06e4282d">getSize</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Total size in bytes of the decoded picture.  <a href="#0362d20baf6320903274f76a06e4282d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <br>
<a class="el" href="classcom_1_1xuggle_1_1ferry_1_1IBuffer.html">com::xuggle::ferry::IBuffer</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#b69601be733fab3f04c8fe10c2f33a32">getData</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get any underlying raw data available for this object.  <a href="#b69601be733fab3f04c8fe10c2f33a32"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#cbad46ff7c2e72bfd648c4fb2479c0b1">getDataLineSize</a> (int lineNo)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the size of each line in the <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html">VideoPicture</a> data.  <a href="#cbad46ff7c2e72bfd648c4fb2479c0b1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#69bfb129eb838b0d1c44f612aebb5101">setComplete</a> (bool aIsComplete, <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IPixelFormat.html#f869b474f38ba0ecd392f05780d23742">IPixelFormat::Type</a> format, int width, int height, int64_t pts)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">After modifying the raw data in this buffer, call this function to let the object know it is now complete.  <a href="#69bfb129eb838b0d1c44f612aebb5101"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#93b1f9d309faa9c902f81abdbc0da222">copy</a> (<a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html">IVideoPicture</a> *srcFrame)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy the contents of the given picture into this picture.  <a href="#93b1f9d309faa9c902f81abdbc0da222"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#45edb4feea4a561a3607e8343667b0bf">setData</a> (<a class="el" href="classcom_1_1xuggle_1_1ferry_1_1IBuffer.html">com::xuggle::ferry::IBuffer</a> *buffer)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the underlying buffer used by this object.  <a href="#45edb4feea4a561a3607e8343667b0bf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#36580fb2755bec9c4a1b975b18689e09">fillAVFrame</a> (AVFrame *frame)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called by the <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1StreamCoder.html">StreamCoder</a> before it encodes a picture.  <a href="#36580fb2755bec9c4a1b975b18689e09"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#b128a9fb4e3988acd2b4571590c2c1f5">copyAVFrame</a> (AVFrame *frame, <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IPixelFormat.html#f869b474f38ba0ecd392f05780d23742">IPixelFormat::Type</a> pixel, int32_t width, int32_t height)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called by the <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1StreamCoder.html">StreamCoder</a> once it's done decoding.  <a href="#b128a9fb4e3988acd2b4571590c2c1f5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VS_API_XUGGLER AVFrame *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#b2fac0a0707a4bdedccfe4ef5ec45f48">getAVFrame</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Call to get the raw underlying AVFrame we manage; don't pass this to ffmpeg directly as ffmpeg often does weird stuff to these guys.  <a href="#b2fac0a0707a4bdedccfe4ef5ec45f48"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#25d16ffdfcf264f3e81dae9a13cf1064">IVideoPicture::PictType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#61dc51beefdc1ed39d4dad06cbbcb60c">getPictureType</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the picture type.  <a href="#61dc51beefdc1ed39d4dad06cbbcb60c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#a20b499bfc5c551ee69c6fb1cb7dd425">setPictureType</a> (<a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#25d16ffdfcf264f3e81dae9a13cf1064">IVideoPicture::PictType</a> type)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the picture type.  <a href="#a20b499bfc5c551ee69c6fb1cb7dd425"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html">VideoPicture</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#ca55145580cb64ba2792e12b3316cc10">make</a> (<a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IPixelFormat.html#f869b474f38ba0ecd392f05780d23742">IPixelFormat::Type</a> format, int width, int height)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The default factory for a frame.  <a href="#ca55145580cb64ba2792e12b3316cc10"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html">VideoPicture</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#4b7e811891ba28f3e5e15645090ccdc7">make</a> (<a class="el" href="classcom_1_1xuggle_1_1ferry_1_1IBuffer.html">com::xuggle::ferry::IBuffer</a> *buffer, <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IPixelFormat.html#f869b474f38ba0ecd392f05780d23742">IPixelFormat::Type</a> format, int width, int height)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a new picture object, by wrapping an existing <a class="el" href="classcom_1_1xuggle_1_1ferry_1_1IBuffer.html">com.xuggle.ferry.IBuffer</a>.  <a href="#4b7e811891ba28f3e5e15645090ccdc7"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#6f05eb90955ed9da1fdffb5e059a190a">VideoPicture</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#91df8ce67b35803ad379d6b3df7b3733">~VideoPicture</a> ()</td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="6f05eb90955ed9da1fdffb5e059a190a"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::VideoPicture" ref="6f05eb90955ed9da1fdffb5e059a190a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">com::xuggle::xuggler::VideoPicture::VideoPicture           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00033">33</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>

<p>References <a class="el" href="IRational_8cpp-source.html#l00079">com::xuggle::xuggler::IRational::make()</a>, and <a class="el" href="IPixelFormat_8h-source.html#l00059">com::xuggle::xuggler::IPixelFormat::NONE</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00034"></a>00034   {
<a name="l00035"></a>00035     mIsComplete = <span class="keyword">false</span>;
<a name="l00036"></a>00036     mFrame = avcodec_alloc_frame();
<a name="l00037"></a>00037     <span class="keywordflow">if</span> (!mFrame)
<a name="l00038"></a>00038       <span class="keywordflow">throw</span> std::bad_alloc();
<a name="l00039"></a>00039     <span class="comment">// Set the private data pointer to point to me.</span>
<a name="l00040"></a>00040     mFrame-&gt;opaque = <span class="keyword">this</span>;
<a name="l00041"></a>00041     mWidth = -1;
<a name="l00042"></a>00042     mHeight = -1;
<a name="l00043"></a>00043     mPixelFormat = <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1IPixelFormat.html#f869b474f38ba0ecd392f05780d23742914b9479e5b8850fe395b69648e00fb0">IPixelFormat::NONE</a>;
<a name="l00044"></a>00044     mTimeBase = <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1IRational.html#af5ff8225c1afcdaed9ab85018806b89" title="Get a new rational that will be set to 0/0.">IRational::make</a>(1, 1000000);
<a name="l00045"></a>00045   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="91df8ce67b35803ad379d6b3df7b3733"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::~VideoPicture" ref="91df8ce67b35803ad379d6b3df7b3733" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">com::xuggle::xuggler::VideoPicture::~VideoPicture           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00047">47</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00048"></a>00048   {
<a name="l00049"></a>00049     <span class="keywordflow">if</span> (mFrame)
<a name="l00050"></a>00050       av_free(mFrame);
<a name="l00051"></a>00051     mFrame = 0;
<a name="l00052"></a>00052   }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a005e62c2652caeb0ae623bbf068435e"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::getTimeStamp" ref="a005e62c2652caeb0ae623bbf068435e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t com::xuggle::xuggler::VideoPicture::getTimeStamp           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the time stamp of this object in <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#346145e590177407e968b213127d9269" title="Get the time base that time stamps of this object are represented in.">getTimeBase()</a> units. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the time stamp </dd></dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IMediaData.html#bd468b57257067c3796e219bfa841b7f">com::xuggle::xuggler::IMediaData</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8h-source.html#l00038">38</a> of file <a class="el" href="VideoPicture_8h-source.html">VideoPicture.h</a>.</p>

<p>References <a class="el" href="VideoPicture_8cpp-source.html#l00298">getPts()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00038"></a>00038 { <span class="keywordflow">return</span> <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#60f0f8bf3fade4dd3334301b329a9184" title="What is the Presentation Time Stamp (in Microseconds) of this picture.">getPts</a>(); }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="604f6fbb65b77da23fc20064c7b28d22"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::setTimeStamp" ref="604f6fbb65b77da23fc20064c7b28d22" args="(int64_t aTimeStamp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void com::xuggle::xuggler::VideoPicture::setTimeStamp           </td>
          <td>(</td>
          <td class="paramtype">int64_t&nbsp;</td>
          <td class="paramname"> <em>aTimeStamp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the time stamp for this object in <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#346145e590177407e968b213127d9269" title="Get the time base that time stamps of this object are represented in.">getTimeBase()</a> units. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aTimeStamp</em>&nbsp;</td><td>The time stamp </td></tr>
  </table>
</dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IMediaData.html#3ac9b027edaee5c826dda311c6d11d2d">com::xuggle::xuggler::IMediaData</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8h-source.html#l00039">39</a> of file <a class="el" href="VideoPicture_8h-source.html">VideoPicture.h</a>.</p>

<p>References <a class="el" href="VideoPicture_8cpp-source.html#l00304">setPts()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00039"></a>00039 { <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#4793a3062c1d7bb11220889ca91143f7" title="Set the Presentation Time Stamp (in Microseconds) for this picture.">setPts</a>(aTimeStamp); }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="0e6ba4f88c57721d5cd396f4c0cbf437"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::isKey" ref="0e6ba4f88c57721d5cd396f4c0cbf437" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool com::xuggle::xuggler::VideoPicture::isKey           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Is this object a key object? i.e. 
<p>
it can be interpreted without needing any other media objects<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if it's a key, false if not </dd></dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IMediaData.html#e07fc3e2594c5b7a91df80828240c88d">com::xuggle::xuggler::IMediaData</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8h-source.html#l00040">40</a> of file <a class="el" href="VideoPicture_8h-source.html">VideoPicture.h</a>.</p>

<p>References <a class="el" href="VideoPicture_8cpp-source.html#l00285">isKeyFrame()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00040"></a>00040 { <span class="keywordflow">return</span> <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#d739f080b8fa50e641ded5880654c9f5" title="Is this a key frame?">isKeyFrame</a>(); }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="346145e590177407e968b213127d9269"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::getTimeBase" ref="346145e590177407e968b213127d9269" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IRational.html">IRational</a>* com::xuggle::xuggler::VideoPicture::getTimeBase           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the time base that time stamps of this object are represented in. 
<p>
Caller must release the returned value.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the time base. </dd></dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IMediaData.html#dd759896cb9c5bc4a4c83a6486c8e781">com::xuggle::xuggler::IMediaData</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8h-source.html#l00041">41</a> of file <a class="el" href="VideoPicture_8h-source.html">VideoPicture.h</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00041"></a>00041 { <span class="keywordflow">return</span> mTimeBase.get(); }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="7013905cdafe9378b7f3e33faf01fb4d"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::setTimeBase" ref="7013905cdafe9378b7f3e33faf01fb4d" args="(IRational *aBase)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void com::xuggle::xuggler::VideoPicture::setTimeBase           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IRational.html">IRational</a> *&nbsp;</td>
          <td class="paramname"> <em>aBase</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the time base that time stamps of this object are represented in. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aBase</em>&nbsp;</td><td>the new time base. If null an exception is thrown. </td></tr>
  </table>
</dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IMediaData.html#f6214100f35e890b49ca9643c0ebbb4f">com::xuggle::xuggler::IMediaData</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8h-source.html#l00042">42</a> of file <a class="el" href="VideoPicture_8h-source.html">VideoPicture.h</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00042"></a>00042 { mTimeBase.reset(aBase, <span class="keyword">true</span>); }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d739f080b8fa50e641ded5880654c9f5"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::isKeyFrame" ref="d739f080b8fa50e641ded5880654c9f5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool com::xuggle::xuggler::VideoPicture::isKeyFrame           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Is this a key frame? 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>is this a key frame </dd></dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#8098dd4d0f407ebca771d72a8f731885">com::xuggle::xuggler::IVideoPicture</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00285">285</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>

<p>Referenced by <a class="el" href="VideoPicture_8h-source.html#l00040">isKey()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00286"></a>00286   {
<a name="l00287"></a>00287     <span class="keywordflow">return</span> (mFrame ? mFrame-&gt;key_frame : <span class="keyword">false</span>);
<a name="l00288"></a>00288   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="bb05a59b53989af010ff33b4e6ae7620"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::setKeyFrame" ref="bb05a59b53989af010ff33b4e6ae7620" args="(bool aIsKey)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com::xuggle::xuggler::VideoPicture::setKeyFrame           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>aIsKey</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reset if this is a key frame or not. 
<p>
Note that regardless of how this flag is set, an <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html" title="Represents one raw (undecoded) picture in a video stream, plus a timestamp for when...">IVideoPicture</a> always contains raw video data (hence the key setting isn't really that important).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aIsKey</em>&nbsp;</td><td>True if a key frame; false if not. </td></tr>
  </table>
</dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#63540cfbe1fb3c890af6ce9f43d6293c">com::xuggle::xuggler::IVideoPicture</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00291">291</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>

<p>Referenced by <a class="el" href="VideoPicture_8cpp-source.html#l00055">make()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00292"></a>00292   {
<a name="l00293"></a>00293     <span class="keywordflow">if</span> (mFrame)
<a name="l00294"></a>00294       mFrame-&gt;key_frame = aIsKey;
<a name="l00295"></a>00295   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="dc1288566f2e179e6e08d35f00001e93"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::isComplete" ref="dc1288566f2e179e6e08d35f00001e93" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool com::xuggle::xuggler::VideoPicture::isComplete           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Is this picture completely decoded? 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>is this picture completely decoded? </dd></dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#e90b6fdbb542140bc25d2e976af24665">com::xuggle::xuggler::IVideoPicture</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8h-source.html#l00047">47</a> of file <a class="el" href="VideoPicture_8h-source.html">VideoPicture.h</a>.</p>

<p>Referenced by <a class="el" href="VideoResampler_8cpp-source.html#l00098">com::xuggle::xuggler::VideoResampler::resample()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00047"></a>00047 { <span class="keywordflow">return</span> mIsComplete; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="9229aeee5e4aed9fa6c6e67740c94473"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::getWidth" ref="9229aeee5e4aed9fa6c6e67740c94473" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int com::xuggle::xuggler::VideoPicture::getWidth           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
What is the width of the picture. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the width of the picture </dd></dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#acb77ab9ea50f901d2605cdd21045be3">com::xuggle::xuggler::IVideoPicture</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8h-source.html#l00048">48</a> of file <a class="el" href="VideoPicture_8h-source.html">VideoPicture.h</a>.</p>

<p>Referenced by <a class="el" href="StreamCoder_8cpp-source.html#l01007">com::xuggle::xuggler::StreamCoder::encodeVideo()</a>, and <a class="el" href="VideoResampler_8cpp-source.html#l00098">com::xuggle::xuggler::VideoResampler::resample()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00048"></a>00048 { <span class="keywordflow">return</span> mWidth; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e43ce5753579d1dda962ae31d3973c05"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::getHeight" ref="e43ce5753579d1dda962ae31d3973c05" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int com::xuggle::xuggler::VideoPicture::getHeight           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
What is the height of the picture. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the height of the picture </dd></dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#72f708d68b5d4a2e36310f4aa76b2c4a">com::xuggle::xuggler::IVideoPicture</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8h-source.html#l00049">49</a> of file <a class="el" href="VideoPicture_8h-source.html">VideoPicture.h</a>.</p>

<p>Referenced by <a class="el" href="StreamCoder_8cpp-source.html#l01007">com::xuggle::xuggler::StreamCoder::encodeVideo()</a>, and <a class="el" href="VideoResampler_8cpp-source.html#l00098">com::xuggle::xuggler::VideoResampler::resample()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00049"></a>00049 { <span class="keywordflow">return</span> mHeight; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d08d80ae1408b64b8c0ef7d94e7a1f15"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::getPixelType" ref="d08d80ae1408b64b8c0ef7d94e7a1f15" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IPixelFormat.html#f869b474f38ba0ecd392f05780d23742">IPixelFormat::Type</a> com::xuggle::xuggler::VideoPicture::getPixelType           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the pixel format of the picture. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the pixel format of the picture. </dd></dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#4d8cf99e9922643c75082b660e6c3493">com::xuggle::xuggler::IVideoPicture</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8h-source.html#l00050">50</a> of file <a class="el" href="VideoPicture_8h-source.html">VideoPicture.h</a>.</p>

<p>Referenced by <a class="el" href="StreamCoder_8cpp-source.html#l01007">com::xuggle::xuggler::StreamCoder::encodeVideo()</a>, and <a class="el" href="VideoResampler_8cpp-source.html#l00098">com::xuggle::xuggler::VideoResampler::resample()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00050"></a>00050 { <span class="keywordflow">return</span> mPixelFormat; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="60f0f8bf3fade4dd3334301b329a9184"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::getPts" ref="60f0f8bf3fade4dd3334301b329a9184" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t com::xuggle::xuggler::VideoPicture::getPts           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
What is the Presentation Time Stamp (in Microseconds) of this picture. 
<p>
The PTS is is scaled so that 1 PTS = 1/1,000,000 of a second.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the presentation time stamp (pts) </dd></dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#297e60130739209c1d1ffe5613567749">com::xuggle::xuggler::IVideoPicture</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00298">298</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>

<p>Referenced by <a class="el" href="StreamCoder_8cpp-source.html#l01007">com::xuggle::xuggler::StreamCoder::encodeVideo()</a>, <a class="el" href="VideoPicture_8h-source.html#l00038">getTimeStamp()</a>, and <a class="el" href="VideoResampler_8cpp-source.html#l00098">com::xuggle::xuggler::VideoResampler::resample()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00299"></a>00299   {
<a name="l00300"></a>00300     <span class="keywordflow">return</span> (mFrame ? mFrame-&gt;pts : -1);
<a name="l00301"></a>00301   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="4793a3062c1d7bb11220889ca91143f7"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::setPts" ref="4793a3062c1d7bb11220889ca91143f7" args="(int64_t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com::xuggle::xuggler::VideoPicture::setPts           </td>
          <td>(</td>
          <td class="paramtype">int64_t&nbsp;</td>
          <td class="paramname"> <em>value</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the Presentation Time Stamp (in Microseconds) for this picture. 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#60f0f8bf3fade4dd3334301b329a9184" title="What is the Presentation Time Stamp (in Microseconds) of this picture.">getPts()</a></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>the new timestamp </td></tr>
  </table>
</dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#c4002f23801f2d17dbfb8fcf92fb3c44">com::xuggle::xuggler::IVideoPicture</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00304">304</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>

<p>Referenced by <a class="el" href="VideoPicture_8cpp-source.html#l00326">setComplete()</a>, and <a class="el" href="VideoPicture_8h-source.html#l00039">setTimeStamp()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00305"></a>00305   {
<a name="l00306"></a>00306     <span class="keywordflow">if</span> (mFrame)
<a name="l00307"></a>00307       mFrame-&gt;pts = value;
<a name="l00308"></a>00308   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="dd6d71c888ffff77023e552231e66d81"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::getQuality" ref="dd6d71c888ffff77023e552231e66d81" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int com::xuggle::xuggler::VideoPicture::getQuality           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This value is the quality setting this <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html">VideoPicture</a> had when it was decoded, or is the value to use when this picture is next encoded (if reset with <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#801ad6e49469a28d5bb653e6402ec31b" title="Set the Quality to a new value.">setQuality()</a>. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The quality. </dd></dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#5be33eb3c1db40b7685cedf3d72bc1d2">com::xuggle::xuggler::IVideoPicture</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00311">311</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>

<p>Referenced by <a class="el" href="VideoPicture_8cpp-source.html#l00200">fillAVFrame()</a>, and <a class="el" href="VideoResampler_8cpp-source.html#l00098">com::xuggle::xuggler::VideoResampler::resample()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00312"></a>00312   {
<a name="l00313"></a>00313     <span class="keywordflow">return</span> (mFrame ? mFrame-&gt;quality : FF_LAMBDA_MAX);
<a name="l00314"></a>00314   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="801ad6e49469a28d5bb653e6402ec31b"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::setQuality" ref="801ad6e49469a28d5bb653e6402ec31b" args="(int newQuality)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com::xuggle::xuggler::VideoPicture::setQuality           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>newQuality</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the Quality to a new value. 
<p>
This will be used the next time this <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html">VideoPicture</a> is encoded by a <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1StreamCoder.html">StreamCoder</a><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>newQuality</em>&nbsp;</td><td>The new quality. </td></tr>
  </table>
</dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#8261921325c4c1804e9c8814f2930a04">com::xuggle::xuggler::IVideoPicture</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00317">317</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>

<p>Referenced by <a class="el" href="VideoResampler_8cpp-source.html#l00098">com::xuggle::xuggler::VideoResampler::resample()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00318"></a>00318   {
<a name="l00319"></a>00319     <span class="keywordflow">if</span> (newQuality &lt; 0 || newQuality &gt; FF_LAMBDA_MAX)
<a name="l00320"></a>00320       newQuality = FF_LAMBDA_MAX;
<a name="l00321"></a>00321     <span class="keywordflow">if</span> (mFrame)
<a name="l00322"></a>00322       mFrame-&gt;quality = newQuality;
<a name="l00323"></a>00323   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="0362d20baf6320903274f76a06e4282d"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::getSize" ref="0362d20baf6320903274f76a06e4282d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t com::xuggle::xuggler::VideoPicture::getSize           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Total size in bytes of the decoded picture. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>number of bytes of decoded picture </dd></dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#29f41881d8866eeeb105bc7b75d6fe41">com::xuggle::xuggler::IVideoPicture</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00363">363</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>

<p>Referenced by <a class="el" href="VideoPicture_8cpp-source.html#l00133">copy()</a>, <a class="el" href="VideoPicture_8cpp-source.html#l00213">copyAVFrame()</a>, <a class="el" href="StreamCoder_8cpp-source.html#l01007">com::xuggle::xuggler::StreamCoder::encodeVideo()</a>, <a class="el" href="VideoPicture_8cpp-source.html#l00200">fillAVFrame()</a>, <a class="el" href="VideoPicture_8cpp-source.html#l00263">getAVFrame()</a>, <a class="el" href="VideoPicture_8cpp-source.html#l00174">getData()</a>, and <a class="el" href="VideoPicture_8cpp-source.html#l00081">make()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00364"></a>00364   {
<a name="l00365"></a>00365     <span class="keywordtype">int</span> retval = -1;
<a name="l00366"></a>00366     <span class="keywordflow">if</span> (mWidth &gt; 0 &amp;&amp; mHeight &gt; 0)
<a name="l00367"></a>00367       retval = avpicture_get_size((PixelFormat)mPixelFormat, mWidth, mHeight);
<a name="l00368"></a>00368     <span class="keywordflow">return</span> retval;
<a name="l00369"></a>00369   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="b69601be733fab3f04c8fe10c2f33a32"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::getData" ref="b69601be733fab3f04c8fe10c2f33a32" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1xuggle_1_1ferry_1_1IBuffer.html">com::xuggle::ferry::IBuffer</a> * com::xuggle::xuggler::VideoPicture::getData           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get any underlying raw data available for this object. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The raw data, or null if not accessible. </dd></dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IMediaData.html#cb725e52fa3f5431896658a805a38272">com::xuggle::xuggler::IMediaData</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00174">174</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>

<p>References <a class="el" href="RefPointer_8h-source.html#l00206">com::xuggle::ferry::RefPointer&lt; T &gt;::get()</a>, <a class="el" href="VideoPicture_8cpp-source.html#l00363">getSize()</a>, <a class="el" href="Logger_8h-source.html#l00191">VS_LOG_DEBUG</a>, and <a class="el" href="RefCounted_8h-source.html#l00230">VS_REF_RELEASE</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00175"></a>00175   {
<a name="l00176"></a>00176     <a class="code" href="classcom_1_1xuggle_1_1ferry_1_1IBuffer.html" title="Allows Java code to get data from a native buffers, and optionally modify native...">com::xuggle::ferry::IBuffer</a> *retval = 0;
<a name="l00177"></a>00177     <span class="keywordflow">try</span> {
<a name="l00178"></a>00178       <span class="keywordflow">if</span> (<a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#0362d20baf6320903274f76a06e4282d" title="Total size in bytes of the decoded picture.">getSize</a>() &gt; 0) {
<a name="l00179"></a>00179         <span class="keywordflow">if</span> (!mBuffer || mBuffer-&gt;getBufferSize() &lt; <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#0362d20baf6320903274f76a06e4282d" title="Total size in bytes of the decoded picture.">getSize</a>())
<a name="l00180"></a>00180         {
<a name="l00181"></a>00181           allocInternalFrameBuffer();
<a name="l00182"></a>00182         }
<a name="l00183"></a>00183         retval = mBuffer.<a class="code" href="classcom_1_1xuggle_1_1ferry_1_1RefPointer.html#deb150bcd9d22a22c13117ef83bc91a1" title="Call RefCounted::acquire() on the managed pointer and return it.">get</a>();
<a name="l00184"></a>00184         <span class="keywordflow">if</span> (!retval) {
<a name="l00185"></a>00185           <span class="keywordflow">throw</span> std::bad_alloc();
<a name="l00186"></a>00186         }
<a name="l00187"></a>00187       }
<a name="l00188"></a>00188     } <span class="keywordflow">catch</span> (std::bad_alloc &amp;e) {
<a name="l00189"></a>00189       <a class="code" href="RefCounted_8h.html#90e04e77a467e22dde38932cd10a3e08">VS_REF_RELEASE</a>(retval);
<a name="l00190"></a>00190       <span class="keywordflow">throw</span> e;
<a name="l00191"></a>00191     } <span class="keywordflow">catch</span> (std::exception &amp; e)
<a name="l00192"></a>00192     {
<a name="l00193"></a>00193       <a class="code" href="Logger_8h.html#d877a8a48949721fb99c500103c71800">VS_LOG_DEBUG</a>(<span class="stringliteral">"Error: %s"</span>, e.what());
<a name="l00194"></a>00194       <a class="code" href="RefCounted_8h.html#90e04e77a467e22dde38932cd10a3e08">VS_REF_RELEASE</a>(retval);
<a name="l00195"></a>00195     }
<a name="l00196"></a>00196     <span class="keywordflow">return</span> retval;
<a name="l00197"></a>00197   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="cbad46ff7c2e72bfd648c4fb2479c0b1"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::getDataLineSize" ref="cbad46ff7c2e72bfd648c4fb2479c0b1" args="(int lineNo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int com::xuggle::xuggler::VideoPicture::getDataLineSize           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>lineNo</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the size of each line in the <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html">VideoPicture</a> data. 
<p>
Usually there are no more than 4 lines, but the first line no that returns 0 is the end of the road.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lineNo</em>&nbsp;</td><td>The line you want to know the (byte) size of.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The size (in bytes) of that line in data. </dd></dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#24eab07a02e9ac788f2b194fb616302c">com::xuggle::xuggler::IVideoPicture</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00274">274</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>

<p>References <a class="el" href="VideoPicture_8cpp-source.html#l00263">getAVFrame()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00275"></a>00275   {
<a name="l00276"></a>00276     <span class="keywordtype">int</span> retval = -1;
<a name="l00277"></a>00277     <span class="keywordflow">if</span> (<a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#b2fac0a0707a4bdedccfe4ef5ec45f48" title="Call to get the raw underlying AVFrame we manage; don&amp;#39;t pass this to ffmpeg directly...">getAVFrame</a>()
<a name="l00278"></a>00278         &amp;&amp; lineNo &gt;= 0
<a name="l00279"></a>00279         &amp;&amp; (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) lineNo &lt; (<span class="keyword">sizeof</span>(mFrame-&gt;linesize)/<span class="keyword">sizeof</span>(mFrame-&gt;linesize[0])))
<a name="l00280"></a>00280       retval = mFrame-&gt;linesize[lineNo];
<a name="l00281"></a>00281     <span class="keywordflow">return</span> retval;
<a name="l00282"></a>00282   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="69bfb129eb838b0d1c44f612aebb5101"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::setComplete" ref="69bfb129eb838b0d1c44f612aebb5101" args="(bool aIsComplete, IPixelFormat::Type format, int width, int height, int64_t pts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com::xuggle::xuggler::VideoPicture::setComplete           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>aIsComplete</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IPixelFormat.html#f869b474f38ba0ecd392f05780d23742">IPixelFormat::Type</a>&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&nbsp;</td>
          <td class="paramname"> <em>pts</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
After modifying the raw data in this buffer, call this function to let the object know it is now complete. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aIsComplete</em>&nbsp;</td><td>Is this <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html">VideoPicture</a> complete </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>The pixel format of the data in this picture. Must match what the picture was originally constructed with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width</em>&nbsp;</td><td>The width of the data in this picture. Must match what the picture was originally constructed with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>height</em>&nbsp;</td><td>The height of the data in this picture. Must match what the picture was originally constructed with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pts</em>&nbsp;</td><td>The presentation timestamp of the picture that is now complete. The caller must ensure this PTS is in units of 1/1,000,000 seconds. </td></tr>
  </table>
</dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#fccefb6a3b7a5cc5e1b75bcfe47d9ad6">com::xuggle::xuggler::IVideoPicture</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00326">326</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>

<p>References <a class="el" href="IPixelFormat_8h-source.html#l00059">com::xuggle::xuggler::IPixelFormat::NONE</a>, <a class="el" href="VideoPicture_8cpp-source.html#l00304">setPts()</a>, and <a class="el" href="Logger_8h-source.html#l00191">VS_LOG_DEBUG</a>.</p>

<p>Referenced by <a class="el" href="VideoPicture_8cpp-source.html#l00133">copy()</a>, <a class="el" href="StreamCoder_8cpp-source.html#l00861">com::xuggle::xuggler::StreamCoder::decodeVideo()</a>, and <a class="el" href="VideoResampler_8cpp-source.html#l00098">com::xuggle::xuggler::VideoResampler::resample()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00333"></a>00333   {
<a name="l00334"></a>00334     <span class="keywordflow">try</span> {
<a name="l00335"></a>00335       mIsComplete = aIsComplete;
<a name="l00336"></a>00336 
<a name="l00337"></a>00337       <span class="keywordflow">if</span> (mIsComplete)
<a name="l00338"></a>00338       {
<a name="l00339"></a>00339         <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#4793a3062c1d7bb11220889ca91143f7" title="Set the Presentation Time Stamp (in Microseconds) for this picture.">setPts</a>(pts);
<a name="l00340"></a>00340       }
<a name="l00341"></a>00341 
<a name="l00342"></a>00342       <span class="keywordflow">if</span> (format != <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1IPixelFormat.html#f869b474f38ba0ecd392f05780d23742914b9479e5b8850fe395b69648e00fb0">IPixelFormat::NONE</a> &amp;&amp; mPixelFormat != <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1IPixelFormat.html#f869b474f38ba0ecd392f05780d23742914b9479e5b8850fe395b69648e00fb0">IPixelFormat::NONE</a> &amp;&amp; format != mPixelFormat)
<a name="l00343"></a>00343         <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">"pixel formats don't match"</span>);
<a name="l00344"></a>00344       <span class="keywordflow">if</span> (width &gt; 0 &amp;&amp; mWidth &gt;0 &amp;&amp; width != mWidth)
<a name="l00345"></a>00345         <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">"width does not match"</span>);
<a name="l00346"></a>00346       <span class="keywordflow">if</span> (height &gt; 0 &amp;&amp; mHeight &gt; 0 &amp;&amp; height != mHeight)
<a name="l00347"></a>00347         <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">"height does not match"</span>);
<a name="l00348"></a>00348       <span class="keywordflow">if</span> (!mFrame)
<a name="l00349"></a>00349         <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">"no AVFrame allocated"</span>);
<a name="l00350"></a>00350 
<a name="l00351"></a>00351       mWidth = width;
<a name="l00352"></a>00352       mHeight = height;
<a name="l00353"></a>00353       mPixelFormat = format;
<a name="l00354"></a>00354 
<a name="l00355"></a>00355     }
<a name="l00356"></a>00356     <span class="keywordflow">catch</span> (std::exception&amp; e)
<a name="l00357"></a>00357     {
<a name="l00358"></a>00358       <a class="code" href="Logger_8h.html#d877a8a48949721fb99c500103c71800">VS_LOG_DEBUG</a>(<span class="stringliteral">"error: %s"</span>, e.what());
<a name="l00359"></a>00359     }
<a name="l00360"></a>00360   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="93b1f9d309faa9c902f81abdbc0da222"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::copy" ref="93b1f9d309faa9c902f81abdbc0da222" args="(IVideoPicture *srcFrame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool com::xuggle::xuggler::VideoPicture::copy           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html">IVideoPicture</a> *&nbsp;</td>
          <td class="paramname"> <em>srcPicture</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Copy the contents of the given picture into this picture. 
<p>
All buffers are copied by value, not be reference.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srcPicture</em>&nbsp;</td><td>The picture you want to copy.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if a successful copy; false if not. </dd></dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#791dc5ef2eddc093cd177ab4419f6ba6">com::xuggle::xuggler::IVideoPicture</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00133">133</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>

<p>References <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#72f708d68b5d4a2e36310f4aa76b2c4a">com::xuggle::xuggler::IVideoPicture::getHeight()</a>, <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#4d8cf99e9922643c75082b660e6c3493">com::xuggle::xuggler::IVideoPicture::getPixelType()</a>, <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#297e60130739209c1d1ffe5613567749">com::xuggle::xuggler::IVideoPicture::getPts()</a>, <a class="el" href="VideoPicture_8cpp-source.html#l00363">getSize()</a>, <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#acb77ab9ea50f901d2605cdd21045be3">com::xuggle::xuggler::IVideoPicture::getWidth()</a>, <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#e90b6fdbb542140bc25d2e976af24665">com::xuggle::xuggler::IVideoPicture::isComplete()</a>, <a class="el" href="VideoPicture_8h-source.html#l00137">mBuffer</a>, <a class="el" href="VideoPicture_8cpp-source.html#l00326">setComplete()</a>, and <a class="el" href="Logger_8h-source.html#l00191">VS_LOG_DEBUG</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00134"></a>00134   {
<a name="l00135"></a>00135     <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;
<a name="l00136"></a>00136     <span class="keywordflow">try</span>
<a name="l00137"></a>00137     {
<a name="l00138"></a>00138       <span class="keywordflow">if</span> (!srcFrame)
<a name="l00139"></a>00139         <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">"empty source frame to copy"</span>);
<a name="l00140"></a>00140 
<a name="l00141"></a>00141       <span class="keywordflow">if</span> (!srcFrame-&gt;isComplete())
<a name="l00142"></a>00142         <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">"source frame is not complete"</span>);
<a name="l00143"></a>00143 
<a name="l00144"></a>00144       <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#6f05eb90955ed9da1fdffb5e059a190a">VideoPicture</a>* src = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#6f05eb90955ed9da1fdffb5e059a190a">VideoPicture</a>*<span class="keyword">&gt;</span>(srcFrame);
<a name="l00145"></a>00145       <span class="keywordflow">if</span> (!src)
<a name="l00146"></a>00146         <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">"src frame is not of right subtype"</span>);
<a name="l00147"></a>00147 
<a name="l00148"></a>00148       <span class="comment">// now copy the data</span>
<a name="l00149"></a>00149       allocInternalFrameBuffer();
<a name="l00150"></a>00150 
<a name="l00151"></a>00151       <span class="comment">// get the raw buffers</span>
<a name="l00152"></a>00152       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* srcBuffer = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)src-&gt;mBuffer-&gt;getBytes(0, src-&gt;getSize());
<a name="l00153"></a>00153       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* dstBuffer = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)mBuffer-&gt;getBytes(0, <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#0362d20baf6320903274f76a06e4282d" title="Total size in bytes of the decoded picture.">getSize</a>());
<a name="l00154"></a>00154       <span class="keywordflow">if</span> (!srcBuffer || !dstBuffer)
<a name="l00155"></a>00155         <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">"could not get buffer to copy"</span>);
<a name="l00156"></a>00156       memcpy(dstBuffer, srcBuffer, <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#0362d20baf6320903274f76a06e4282d" title="Total size in bytes of the decoded picture.">getSize</a>());
<a name="l00157"></a>00157 
<a name="l00158"></a>00158       this-&gt;<a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#69bfb129eb838b0d1c44f612aebb5101" title="After modifying the raw data in this buffer, call this function to let the object...">setComplete</a>(<span class="keyword">true</span>,
<a name="l00159"></a>00159           srcFrame-&gt;getPixelType(),
<a name="l00160"></a>00160           srcFrame-&gt;getWidth(),
<a name="l00161"></a>00161           srcFrame-&gt;getHeight(),
<a name="l00162"></a>00162           srcFrame-&gt;getPts());
<a name="l00163"></a>00163       result = <span class="keyword">true</span>;
<a name="l00164"></a>00164     }
<a name="l00165"></a>00165     <span class="keywordflow">catch</span> (std::exception &amp; e)
<a name="l00166"></a>00166     {
<a name="l00167"></a>00167       <a class="code" href="Logger_8h.html#d877a8a48949721fb99c500103c71800">VS_LOG_DEBUG</a>(<span class="stringliteral">"error: %s"</span>, e.what());
<a name="l00168"></a>00168       result = <span class="keyword">false</span>;
<a name="l00169"></a>00169     }
<a name="l00170"></a>00170     <span class="keywordflow">return</span> result;
<a name="l00171"></a>00171   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="45edb4feea4a561a3607e8343667b0bf"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::setData" ref="45edb4feea4a561a3607e8343667b0bf" args="(com::xuggle::ferry::IBuffer *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com::xuggle::xuggler::VideoPicture::setData           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1xuggle_1_1ferry_1_1IBuffer.html">com::xuggle::ferry::IBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the underlying buffer used by this object. 
<p>
This is an advanced method and is not recommended for use by those who don't fully understand how IBuffers work. Implementations of <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IMediaData.html">IMediaData</a> may behave in undefined ways if the buffer you pass in is not big enough for what you ask them to do (e.g. they may discard your buffer and allocate a larger one if they need more space). It is up to the caller to ensure the buffer passed in is large enough, and is not simultaneously in use by another part of the system.  <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>The buffer to set. If null, this method is ignored. </td></tr>
  </table>
</dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IMediaData.html#02f8ea2b694ace798aae304e1dbbafdc">com::xuggle::xuggler::IMediaData</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00125">125</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>

<p>References <a class="el" href="RefPointer_8h-source.html#l00237">com::xuggle::ferry::RefPointer&lt; T &gt;::reset()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00126"></a>00126   {
<a name="l00127"></a>00127     <span class="keywordflow">if</span> (!buffer) <span class="keywordflow">return</span>;
<a name="l00129"></a>00129     mBuffer.<a class="code" href="classcom_1_1xuggle_1_1ferry_1_1RefPointer.html#b899de28a26a25ca63155aae9530f9f1" title="Reset the managed pointer, calling RefCounted::release() on the previously managed...">reset</a>(buffer, <span class="keyword">true</span>);
<a name="l00130"></a>00130   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="36580fb2755bec9c4a1b975b18689e09"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::fillAVFrame" ref="36580fb2755bec9c4a1b975b18689e09" args="(AVFrame *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com::xuggle::xuggler::VideoPicture::fillAVFrame           </td>
          <td>(</td>
          <td class="paramtype">AVFrame *&nbsp;</td>
          <td class="paramname"> <em>frame</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called by the <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1StreamCoder.html">StreamCoder</a> before it encodes a picture. 
<p>
The <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html">VideoPicture</a> fills in Ffmpeg's AVFrame structure with the underlying data for the frame we're managing, but we maintain memory management. 
<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00200">200</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>

<p>References <a class="el" href="VideoPicture_8cpp-source.html#l00311">getQuality()</a>, and <a class="el" href="VideoPicture_8cpp-source.html#l00363">getSize()</a>.</p>

<p>Referenced by <a class="el" href="StreamCoder_8cpp-source.html#l01007">com::xuggle::xuggler::StreamCoder::encodeVideo()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00201"></a>00201   {
<a name="l00202"></a>00202     <span class="keywordflow">if</span> (!mBuffer || mBuffer-&gt;getBufferSize() &lt; <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#0362d20baf6320903274f76a06e4282d" title="Total size in bytes of the decoded picture.">getSize</a>())
<a name="l00203"></a>00203       allocInternalFrameBuffer();
<a name="l00204"></a>00204     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* buffer = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)mBuffer-&gt;getBytes(0, <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#0362d20baf6320903274f76a06e4282d" title="Total size in bytes of the decoded picture.">getSize</a>());
<a name="l00205"></a>00205     *frame = *mFrame;
<a name="l00206"></a>00206     avpicture_fill((AVPicture*)frame, buffer, (<span class="keyword">enum</span> PixelFormat) mPixelFormat,
<a name="l00207"></a>00207         mWidth, mHeight);
<a name="l00208"></a>00208     frame-&gt;quality = <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#dd6d71c888ffff77023e552231e66d81" title="This value is the quality setting this VideoPicture had when it was decoded, or is...">getQuality</a>();
<a name="l00209"></a>00209     frame-&gt;type = FF_BUFFER_TYPE_USER;
<a name="l00210"></a>00210   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="b128a9fb4e3988acd2b4571590c2c1f5"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::copyAVFrame" ref="b128a9fb4e3988acd2b4571590c2c1f5" args="(AVFrame *frame, IPixelFormat::Type pixel, int32_t width, int32_t height)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com::xuggle::xuggler::VideoPicture::copyAVFrame           </td>
          <td>(</td>
          <td class="paramtype">AVFrame *&nbsp;</td>
          <td class="paramname"> <em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IPixelFormat.html#f869b474f38ba0ecd392f05780d23742">IPixelFormat::Type</a>&nbsp;</td>
          <td class="paramname"> <em>pixel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>height</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called by the <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1StreamCoder.html">StreamCoder</a> once it's done decoding. 
<p>
We copy data from the buffers that ffmpeg allocated into our own buffers.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>frame</em>&nbsp;</td><td>The AVFrame that ffmpeg filled in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pixel</em>&nbsp;</td><td>The pixel type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width</em>&nbsp;</td><td>The width of the AVFrame </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>height</em>&nbsp;</td><td>The height of the AVFrame </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00213">213</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>

<p>References <a class="el" href="VideoPicture_8cpp-source.html#l00363">getSize()</a>, <a class="el" href="Logger_8h-source.html#l00207">VS_ASSERT</a>, and <a class="el" href="Logger_8h-source.html#l00191">VS_LOG_DEBUG</a>.</p>

<p>Referenced by <a class="el" href="StreamCoder_8cpp-source.html#l00861">com::xuggle::xuggler::StreamCoder::decodeVideo()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00215"></a>00215   {
<a name="l00216"></a>00216     <span class="keywordflow">try</span>
<a name="l00217"></a>00217     {
<a name="l00218"></a>00218       <span class="comment">// Need to copy the contents of frame-&gt;data to our</span>
<a name="l00219"></a>00219       <span class="comment">// internal buffer.</span>
<a name="l00220"></a>00220       <a class="code" href="Logger_8h.html#cc63c47c2830d2158599b12926d7daee">VS_ASSERT</a>(frame, <span class="stringliteral">"no frame?"</span>);
<a name="l00221"></a>00221       <a class="code" href="Logger_8h.html#cc63c47c2830d2158599b12926d7daee">VS_ASSERT</a>(frame-&gt;data[0], <span class="stringliteral">"no data in frame"</span>);
<a name="l00222"></a>00222       <span class="comment">// resize the frame to the AVFrame</span>
<a name="l00223"></a>00223       mWidth = width;
<a name="l00224"></a>00224       mHeight = height;
<a name="l00225"></a>00225       mPixelFormat = pixel;
<a name="l00226"></a>00226 
<a name="l00227"></a>00227       <span class="keywordtype">int</span> bufSize = <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#0362d20baf6320903274f76a06e4282d" title="Total size in bytes of the decoded picture.">getSize</a>();
<a name="l00228"></a>00228       <span class="keywordflow">if</span> (bufSize &lt;= 0)
<a name="l00229"></a>00229         <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">"invalid size for frame"</span>);
<a name="l00230"></a>00230 
<a name="l00231"></a>00231       <span class="keywordflow">if</span> (!mBuffer || mBuffer-&gt;getBufferSize() &lt; bufSize)
<a name="l00232"></a>00232         <span class="comment">// reuse buffers if we can.</span>
<a name="l00233"></a>00233         allocInternalFrameBuffer();
<a name="l00234"></a>00234 
<a name="l00235"></a>00235       uint8_t* buffer = (uint8_t*)mBuffer-&gt;getBytes(0, bufSize);
<a name="l00236"></a>00236       <span class="keywordflow">if</span> (!buffer)
<a name="l00237"></a>00237         <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">"really?  no buffer"</span>);
<a name="l00238"></a>00238 
<a name="l00239"></a>00239       <span class="keywordflow">if</span> (frame-&gt;data[0])
<a name="l00240"></a>00240       {
<a name="l00241"></a>00241         <span class="comment">// Make sure the frame isn't already using our buffer</span>
<a name="l00242"></a>00242         <span class="keywordflow">if</span>(buffer != frame-&gt;data[0])
<a name="l00243"></a>00243         {
<a name="l00244"></a>00244           avpicture_fill((AVPicture*)mFrame, buffer,
<a name="l00245"></a>00245               (<span class="keyword">enum</span> PixelFormat) mPixelFormat, mWidth, mHeight);
<a name="l00246"></a>00246           av_picture_copy((AVPicture*)mFrame, (AVPicture*)frame,
<a name="l00247"></a>00247               (PixelFormat)mPixelFormat, mWidth, mHeight);
<a name="l00248"></a>00248         }
<a name="l00249"></a>00249         mFrame-&gt;key_frame = frame-&gt;key_frame;
<a name="l00250"></a>00250       }
<a name="l00251"></a>00251       <span class="keywordflow">else</span>
<a name="l00252"></a>00252       {
<a name="l00253"></a>00253         <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">"no data in frame to copy"</span>);
<a name="l00254"></a>00254       }
<a name="l00255"></a>00255     }
<a name="l00256"></a>00256     <span class="keywordflow">catch</span> (std::exception &amp; e)
<a name="l00257"></a>00257     {
<a name="l00258"></a>00258       <a class="code" href="Logger_8h.html#d877a8a48949721fb99c500103c71800">VS_LOG_DEBUG</a>(<span class="stringliteral">"error: %s"</span>, e.what());
<a name="l00259"></a>00259     }
<a name="l00260"></a>00260   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="b2fac0a0707a4bdedccfe4ef5ec45f48"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::getAVFrame" ref="b2fac0a0707a4bdedccfe4ef5ec45f48" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AVFrame * com::xuggle::xuggler::VideoPicture::getAVFrame           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Call to get the raw underlying AVFrame we manage; don't pass this to ffmpeg directly as ffmpeg often does weird stuff to these guys. 
<p>
Note: This method is exported out of the DLL because the extras library uses it. 
<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00263">263</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>

<p>References <a class="el" href="VideoPicture_8cpp-source.html#l00363">getSize()</a>.</p>

<p>Referenced by <a class="el" href="VideoPicture_8cpp-source.html#l00274">getDataLineSize()</a>, and <a class="el" href="VideoResampler_8cpp-source.html#l00098">com::xuggle::xuggler::VideoResampler::resample()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00264"></a>00264   {
<a name="l00265"></a>00265     <span class="keywordflow">if</span> (!mBuffer || mBuffer-&gt;getBufferSize() &lt; <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#0362d20baf6320903274f76a06e4282d" title="Total size in bytes of the decoded picture.">getSize</a>())
<a name="l00266"></a>00266     {
<a name="l00267"></a>00267       <span class="comment">// reuse buffers if we can.</span>
<a name="l00268"></a>00268       allocInternalFrameBuffer();
<a name="l00269"></a>00269     }
<a name="l00270"></a>00270     <span class="keywordflow">return</span> mFrame;
<a name="l00271"></a>00271   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ca55145580cb64ba2792e12b3316cc10"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::make" ref="ca55145580cb64ba2792e12b3316cc10" args="(IPixelFormat::Type format, int width, int height)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html">VideoPicture</a> * com::xuggle::xuggler::VideoPicture::make           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IPixelFormat.html#f869b474f38ba0ecd392f05780d23742">IPixelFormat::Type</a>&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>height</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The default factory for a frame. 
<p>
We require callers to always tell us the format, width and height of the image they want to store in this <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html">VideoPicture</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>The pixel format </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width</em>&nbsp;</td><td>The expected width of this image. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>height</em>&nbsp;</td><td>The expected height of this image.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A new frame that can store an image and associated decoding information. </dd></dl>

<p>Reimplemented from <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#7e7b5504cdb1479a90942ebf23c0919b">com::xuggle::xuggler::IVideoPicture</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00055">55</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>

<p>References <a class="el" href="VideoPicture_8h-source.html#l00135">mHeight</a>, <a class="el" href="VideoPicture_8h-source.html#l00133">mPixelFormat</a>, <a class="el" href="VideoPicture_8h-source.html#l00134">mWidth</a>, <a class="el" href="VideoPicture_8cpp-source.html#l00291">setKeyFrame()</a>, <a class="el" href="Logger_8h-source.html#l00191">VS_LOG_DEBUG</a>, and <a class="el" href="RefCounted_8h-source.html#l00230">VS_REF_RELEASE</a>.</p>

<p>Referenced by <a class="el" href="VideoPicture_8cpp-source.html#l00081">make()</a>, and <a class="el" href="IVideoPicture_8cpp-source.html#l00041">com::xuggle::xuggler::IVideoPicture::make()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00056"></a>00056   {
<a name="l00057"></a>00057     <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#6f05eb90955ed9da1fdffb5e059a190a">VideoPicture</a> * retval=0;
<a name="l00058"></a>00058     <span class="keywordflow">try</span> {
<a name="l00059"></a>00059       retval = <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#ca55145580cb64ba2792e12b3316cc10" title="The default factory for a frame.">VideoPicture::make</a>();
<a name="l00060"></a>00060       retval-&gt;mPixelFormat = format;
<a name="l00061"></a>00061       retval-&gt;mWidth = width;
<a name="l00062"></a>00062       retval-&gt;mHeight = height;
<a name="l00063"></a>00063       <span class="comment">// default new frames to be key frames</span>
<a name="l00064"></a>00064       retval-&gt;setKeyFrame(<span class="keyword">true</span>);
<a name="l00065"></a>00065     }
<a name="l00066"></a>00066     <span class="keywordflow">catch</span> (std::bad_alloc &amp;e)
<a name="l00067"></a>00067     {
<a name="l00068"></a>00068       <a class="code" href="RefCounted_8h.html#90e04e77a467e22dde38932cd10a3e08">VS_REF_RELEASE</a>(retval);
<a name="l00069"></a>00069       <span class="keywordflow">throw</span> e;
<a name="l00070"></a>00070     }
<a name="l00071"></a>00071     <span class="keywordflow">catch</span> (std::exception&amp; e)
<a name="l00072"></a>00072     {
<a name="l00073"></a>00073       <a class="code" href="Logger_8h.html#d877a8a48949721fb99c500103c71800">VS_LOG_DEBUG</a>(<span class="stringliteral">"error: %s"</span>, e.what());
<a name="l00074"></a>00074       <a class="code" href="RefCounted_8h.html#90e04e77a467e22dde38932cd10a3e08">VS_REF_RELEASE</a>(retval);
<a name="l00075"></a>00075     }
<a name="l00076"></a>00076 
<a name="l00077"></a>00077     <span class="keywordflow">return</span> retval;
<a name="l00078"></a>00078   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="61dc51beefdc1ed39d4dad06cbbcb60c"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::getPictureType" ref="61dc51beefdc1ed39d4dad06cbbcb60c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#25d16ffdfcf264f3e81dae9a13cf1064">IVideoPicture::PictType</a> com::xuggle::xuggler::VideoPicture::getPictureType           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the picture type. 
<p>
This will be set on decoding to tell you what type of packet this was decoded from, and when encoding is a request to the encoder for how to encode the picture.  <p>
The request may be ignored by your codec.  <dl class="return" compact><dt><b>Returns:</b></dt><dd>the picture type. </dd></dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#089f282283b5d786362e92c1626ee91b">com::xuggle::xuggler::IVideoPicture</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00426">426</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>

<p>References <a class="el" href="IVideoPicture_8h-source.html#l00210">com::xuggle::xuggler::IVideoPicture::DEFAULT_TYPE</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00427"></a>00427   {
<a name="l00428"></a>00428     <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#25d16ffdfcf264f3e81dae9a13cf1064" title="The different types of images that we can set.">IVideoPicture::PictType</a> retval = <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#25d16ffdfcf264f3e81dae9a13cf1064d92fdd62b31ec30380a5ec9d6960f73a">IVideoPicture::DEFAULT_TYPE</a>;
<a name="l00429"></a>00429     <span class="keywordflow">if</span> (mFrame)
<a name="l00430"></a>00430       retval = (<a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#25d16ffdfcf264f3e81dae9a13cf1064" title="The different types of images that we can set.">PictType</a>) mFrame-&gt;pict_type;
<a name="l00431"></a>00431     <span class="keywordflow">return</span> retval;
<a name="l00432"></a>00432   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="a20b499bfc5c551ee69c6fb1cb7dd425"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::setPictureType" ref="a20b499bfc5c551ee69c6fb1cb7dd425" args="(IVideoPicture::PictType type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com::xuggle::xuggler::VideoPicture::setPictureType           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#25d16ffdfcf264f3e81dae9a13cf1064">IVideoPicture::PictType</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the picture type. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>The type.</td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#61dc51beefdc1ed39d4dad06cbbcb60c" title="Get the picture type.">getPictureType()</a> </dd></dl>

<p>Implements <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#cf2761df836c87b211ad0afe5a1b2d4a">com::xuggle::xuggler::IVideoPicture</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00435">435</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00436"></a>00436   {
<a name="l00437"></a>00437     <span class="keywordflow">if</span> (mFrame)
<a name="l00438"></a>00438       mFrame-&gt;pict_type = (<span class="keyword">enum</span> AVPictureType) type;
<a name="l00439"></a>00439   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="4b7e811891ba28f3e5e15645090ccdc7"></a><!-- doxytag: member="com::xuggle::xuggler::VideoPicture::make" ref="4b7e811891ba28f3e5e15645090ccdc7" args="(com::xuggle::ferry::IBuffer *buffer, IPixelFormat::Type format, int width, int height)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html">VideoPicture</a> * com::xuggle::xuggler::VideoPicture::make           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1xuggle_1_1ferry_1_1IBuffer.html">com::xuggle::ferry::IBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IPixelFormat.html#f869b474f38ba0ecd392f05780d23742">IPixelFormat::Type</a>&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>height</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a new picture object, by wrapping an existing <a class="el" href="classcom_1_1xuggle_1_1ferry_1_1IBuffer.html">com.xuggle.ferry.IBuffer</a>. 
<p>
Use this method if you have existing video data that you want to have us wrap and pass to FFmpeg. Note that if decoding into this video picture and the decoded data actually takes more space than is in this buffer, this object will release the reference to the passed in buffer and allocate a new buffer instead so the decode can continue.  <p>
Due to some decoders assembly optimizations, you should ensure the IBuffer you pass in has at least 8 more bytes than would typically be required based on the format, width and height.  <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>The <a class="el" href="classcom_1_1xuggle_1_1ferry_1_1IBuffer.html">com.xuggle.ferry.IBuffer</a> to wrap. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>The pixel format (for example, YUV420P). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width</em>&nbsp;</td><td>The width of the picture, in pixels. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>height</em>&nbsp;</td><td>The height of the picture, in pixels. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A new object, or null if we can't allocate one. </dd></dl>

<p>Reimplemented from <a class="el" href="classcom_1_1xuggle_1_1xuggler_1_1IVideoPicture.html#c9d1cdd4868785710ee8cd6dbae152ce">com::xuggle::xuggler::IVideoPicture</a>.</p>

<p>Definition at line <a class="el" href="VideoPicture_8cpp-source.html#l00081">81</a> of file <a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a>.</p>

<p>References <a class="el" href="classcom_1_1xuggle_1_1ferry_1_1IBuffer.html#a5743da411135fd90cb1c3e99b2cfaa4">com::xuggle::ferry::IBuffer::getBufferSize()</a>, <a class="el" href="classcom_1_1xuggle_1_1ferry_1_1IBuffer.html#1d014bd1ad06d764a0c2fb1b3dcd2d4a">com::xuggle::ferry::IBuffer::getBytes()</a>, <a class="el" href="VideoPicture_8cpp-source.html#l00363">getSize()</a>, <a class="el" href="VideoPicture_8cpp-source.html#l00055">make()</a>, <a class="el" href="VideoPicture_8h-source.html#l00137">mBuffer</a>, <a class="el" href="VideoPicture_8h-source.html#l00128">mFrame</a>, <a class="el" href="RefPointer_8h-source.html#l00237">com::xuggle::ferry::RefPointer&lt; T &gt;::reset()</a>, <a class="el" href="Logger_8h-source.html#l00191">VS_LOG_DEBUG</a>, and <a class="el" href="RefCounted_8h-source.html#l00230">VS_REF_RELEASE</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00084"></a>00084   {
<a name="l00085"></a>00085     <span class="keywordflow">if</span> (!buffer)
<a name="l00086"></a>00086       <span class="keywordflow">return</span> 0;
<a name="l00087"></a>00087     <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#6f05eb90955ed9da1fdffb5e059a190a">VideoPicture</a> *retval = 0;
<a name="l00088"></a>00088     <span class="keywordflow">try</span> {
<a name="l00089"></a>00089       retval = <a class="code" href="classcom_1_1xuggle_1_1xuggler_1_1VideoPicture.html#ca55145580cb64ba2792e12b3316cc10" title="The default factory for a frame.">make</a>(format, width,height);
<a name="l00090"></a>00090       <span class="keywordflow">if</span> (!retval)
<a name="l00091"></a>00091         <span class="keywordflow">throw</span> std::bad_alloc();
<a name="l00092"></a>00092       
<a name="l00093"></a>00093       int32_t size = retval-&gt;getSize();
<a name="l00094"></a>00094       <span class="keywordflow">if</span> (size &gt; 0 &amp;&amp; size &gt; buffer-&gt;<a class="code" href="classcom_1_1xuggle_1_1ferry_1_1IBuffer.html#a5743da411135fd90cb1c3e99b2cfaa4" title="Get the current maximum number of bytes that can be safely placed in this buffer...">getBufferSize</a>())
<a name="l00095"></a>00095         <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">"input buffer is not large enough for given picture"</span>);
<a name="l00096"></a>00096       
<a name="l00098"></a>00098       retval-&gt;mBuffer.reset(buffer, <span class="keyword">true</span>);
<a name="l00100"></a>00100       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* bytes = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)buffer-&gt;<a class="code" href="classcom_1_1xuggle_1_1ferry_1_1IBuffer.html#1d014bd1ad06d764a0c2fb1b3dcd2d4a" title="Returns up to length bytes, starting at offset in the underlying buffer we&amp;#39;re...">getBytes</a>(0, size);
<a name="l00101"></a>00101       <span class="keywordflow">if</span> (!bytes)
<a name="l00102"></a>00102         <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">"could not access raw memory in buffer"</span>);
<a name="l00103"></a>00103 
<a name="l00104"></a>00104       (void) avpicture_fill((AVPicture*)retval-&gt;mFrame,
<a name="l00105"></a>00105           bytes,
<a name="l00106"></a>00106           (<span class="keyword">enum</span> PixelFormat) format,
<a name="l00107"></a>00107           width,
<a name="l00108"></a>00108           height);
<a name="l00109"></a>00109 
<a name="l00110"></a>00110     }
<a name="l00111"></a>00111     <span class="keywordflow">catch</span> (std::bad_alloc &amp;e)
<a name="l00112"></a>00112     {
<a name="l00113"></a>00113       <a class="code" href="RefCounted_8h.html#90e04e77a467e22dde38932cd10a3e08">VS_REF_RELEASE</a>(retval);
<a name="l00114"></a>00114       <span class="keywordflow">throw</span> e;
<a name="l00115"></a>00115     }
<a name="l00116"></a>00116     <span class="keywordflow">catch</span> (std::exception&amp; e)
<a name="l00117"></a>00117     {
<a name="l00118"></a>00118       <a class="code" href="Logger_8h.html#d877a8a48949721fb99c500103c71800">VS_LOG_DEBUG</a>(<span class="stringliteral">"error: %s"</span>, e.what());
<a name="l00119"></a>00119       <a class="code" href="RefCounted_8h.html#90e04e77a467e22dde38932cd10a3e08">VS_REF_RELEASE</a>(retval);
<a name="l00120"></a>00120     }
<a name="l00121"></a>00121     <span class="keywordflow">return</span> retval;
<a name="l00122"></a>00122   }
</pre></div>
<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>csrc/com/xuggle/xuggler/<a class="el" href="VideoPicture_8h-source.html">VideoPicture.h</a><li>csrc/com/xuggle/xuggler/<a class="el" href="VideoPicture_8cpp-source.html">VideoPicture.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jul 11 07:40:15 2011 for Xuggle by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
